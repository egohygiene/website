---
import TermLayout from '../../components/term/TermLayout.astro';
import { loadTerms, mapTermsBySlug } from '../../../../src/models/Term';

export async function getStaticPaths() {
  const ts = await loadTerms();
  return ts.map(t => ({ params: { slug: t.slug } }));
}

const { slug } = Astro.params;
const termMap = await mapTermsBySlug();
const term = termMap[slug];
if (!term) {
  throw new Error(`Term not found: ${slug}`);
}
---
<TermLayout term={term} />
