---
import {
  BaseHead,
  Header,
  LandingScene,
  AboutEgoHygiene,
  LatestSynapses,
  ExplorePillars,
  Footer,
} from '@components';
import { loadPillars } from '../../../src/models/Pillar';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---
<!doctype html>
const pillars = await loadPillars();

<html lang="en" class="scroll-smooth">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
    <div id="nav-wrapper" class="fixed top-0 left-0 w-full opacity-0 transition-opacity duration-500 pointer-events-none z-20">
      <Header />
    </div>
    <section id="hero" class="relative h-screen w-screen overflow-hidden">
      <LandingScene client:only="react" />
    </section>
    <Footer />
    <script>
      const nav = document.getElementById('nav-wrapper');
      const hero = document.getElementById('hero');
      const cta = document.getElementById('cta');
      const about = document.getElementById('about');
      window.addEventListener('scroll', () => {
        if(window.scrollY > hero.offsetHeight - 100){
          nav.classList.remove('opacity-0','pointer-events-none');
          nav.classList.add('opacity-100');
        } else {
          nav.classList.add('opacity-0','pointer-events-none');
          nav.classList.remove('opacity-100');
        }
      });
      cta?.addEventListener('click', (e)=>{
        e.preventDefault();
        about?.scrollIntoView({ behavior: 'smooth' });
      });
    </script>
  </body>
</html>
